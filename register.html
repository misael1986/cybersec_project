<!DOCTYPE html>
<html>

<head>
    <title>Sistema de notas BlockChains</title>
    <meta charset="UTF-8">
    <script language="javascript" src="js/bootstrap.js"></script>
    <link rel="stylesheet" href="css/bootstrap.css" />
    <link rel="stylesheet" href="css/style.css" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />

</head>

<body>
    <div class="register-form">
        <form>
            <h2 class="text-center">Sistema de notas Block-Chain</h2>
            <div class="logo">
                <img src="img/logo.png" alt="">
            </div>
            <div class="form-group">
                <label>Código estudiante</label>
                <input id="cStudent" type="text" class="form-control" placeholder="Ej. 1024495512">
            </div>
            <div class="form-group">
                <label for="exampleFormControlSelect1">Periodo académico</label>
                <select id="period" class="form-control">
                    <option value="2019-2">2019-2</option>
                    <option value="2019-1">2019-1</option>
                    <option value="2018-2">2018-2</option>
                    <option value="2018-1">2018-1</option>
                    <option value="2017-2">2017-2</option>
                  </select>
            </div>
            <div class="form-group">
                <label>Código asignatura</label>
                <input id="cSubject" type="text" class="form-control" placeholder="ej. cibersec-0001">
            </div>
            <div class="form-group">
                <label>Nota mínima</label>
                <input type="text" id="nMin" class="form-control" placeholder="ej. 3.0">
            </div>
            <div class="form-group">
                <label>Nota aprobatoria</label>
                <input type="text" id="nMax" class="form-control" placeholder="ej. 5.0">
            </div>
            <div class="form-group">
                <label for="exampleFormControlTextarea1">Observaciones</label>
                <textarea id="observation" class="form-control" rows="3"></textarea>
            </div>
            <div class="form-group">
                <button type="button" id="enviar" class="btn btn-primary btn-block mybtn">Registrar nota</button>
            </div>
        </form>
    </div>
    <!-- Modal -->
    <div class="alert alert-success hide col-6 role=" alert ">
        <a href="# " class="close " data-dismiss="alert " aria-label="close ">&times;</a>
        <h4 class="alert-heading ">Registro exitoso</h4>
        <hr>
        <p class="mb-0 "></p>Ciberseguridad 2019-2.</p>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js "></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js "></script>
    <script>
        $(function() {
            $('.close').click(function() {
                $('.alert').addClass('hide');
                $('.form-control').val('');

            });
            
            $("#enviar ").click(function() {
                // Assign handlers immediately after making the request,
                // and remember the jqxhr object for this request
                $.post("/registerNote ", {
                        cStudent: $("#cStudent ").val(),
                        period: $("#period ").val(),
                        cSubject: $("#cSubject ").val(),
                        nMin: $("#nMin ").val(),
                        nMax: $("#nMax ").val(),
                        observation: $("#observation ").val()
                    })
                    .done(function(data) {
                        if (data == 'ok') {
                            $(".alert ").removeClass('hide').hide().fadeIn('slow');
                        }
                    });
            });
        });
    </script>
</body>

</html>